---
import { getCollection } from "astro:content";

import PageLayout from "@/layouts/PageLayout.astro";
import FormattedDate from "@/components/FormattedDate.astro";
import Hero from "@/components/Hero.astro";
import TagCloud from "@/components/TagCloud.astro";
import PostList from "@/components/PostList.astro";

const allPosts = await getCollection("blog");
const posts = allPosts.sort(
	(a, b) =>
		new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf(),
);
---

<PageLayout title="Home" description="Welcome to VanillaJS">
	<!-- HERO -->
	<Hero
		title="Desvendando o JavaScript"
		description="Sem amarras, sem dependências. Aventure-se no mundo do VanillaJS e descubra a verdadeira essência da linguagem que move a web."
	/>

	<!-- TAGS -->
	<TagCloud showCount={true} />

	<!-- POSTS -->
	<section class="mx-auto">
		<header class="my-4">
			<h2 class="text-2xl font-bold text-gray-900">Recentes</h2>
		</header>

		<PostList data={posts} />
	</section>
</PageLayout>
